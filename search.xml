<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[【OSG/Bullet】Bullet、osgWorks、osgBullet编译及安装（适用于最新的OSG-3.5.7，Bullet-2.87）]]></title>
    <url>%2F2017%2F11%2F27%2Fosg-compiling-osgworks-and-osgbullet%2F</url>
    <content type="text"><![CDATA[写在最前面Bullet：物理引擎osgWorks：一些osg工具osgBullet：基于Bullet的osg物理引擎本文介绍了Bullet、osgWorks及osgBullet编译过程中的一些坑，这两个库最后一次更新都在数年之前，因为年久失修与现有版本的Bullet间有诸多问题 系统环境ubuntu: 16.04CMake: 3.5.1OSG: 3.5.7Bullet: 2.87osgWorks: 3.0osgBullet: 3.0 Bullet编译源代码：Github链接下载最新的Release版本12345mkdir buildcd buildcmake ..makemake install 2&gt;&amp;1 | tee install.log 编译完成之后可以尝试一下Example\ExampleBrowser这样基本就搞定了，其他编译方式premake什么的没尝试成功 osgWorks编译及配置源代码下载、编译源代码：Github链接12345mkdir buildcd buildcmake ..makemake install 2&gt;&amp;1 | tee install.log 过程中出现的问题及解决办法：1.报错：mgv.mergeGeode(geode)在/src/osgwTools/GeometryModifier.cpp中添加头文件#include &lt;osg/Group&gt;将mgv.mergeGeode(geode);修改为mgv.mergeGroup(*geode.asGroup()); 2.报错：void set(value_type a00, value_type a01, value_type a02,value_type a03,在/src/osgwTools/Orientation中将123456789101112osg::Vec3d Orientation::getYPR( const osg::Quat&amp; q ) const&#123; osg::Matrix m; m.set( q ); return( getYPR( m ) );&#125;void Orientation::getYPR( const osg::Quat&amp; q, double&amp; yaw, double&amp; pitch, double&amp; roll ) const&#123; osg::Matrix m; m.set( q ); getYPR( m, yaw, pitch, roll );&#125; 修改为12345678910osg::Vec3d Orientation::getYPR( const osg::Quat&amp; q ) const&#123; osg::Matrix m(q); return( getYPR( m ) );&#125;void Orientation::getYPR( const osg::Quat&amp; q, double&amp; yaw, double&amp; pitch, double&amp; roll ) const&#123; osg::Matrix m(q); getYPR( m, yaw, pitch, roll );&#125; 环境变量配置1sudo gedit /etc/profile 在最末尾加上如下语句12#osgWorksexport osgWorks_DIR=/usr/local/lib 执行source /etc/profile或重启以更新系统环境变量 osgBullet编译及配置源代码下载、编译源代码：Github链接12345mkdir buildcd buildcmake ..makemake install 2&gt;&amp;1 | tee install.log 过程中出现的问题及解决办法：1.报错：找不到osgWorks，CMake Error at CMakeModules/FindosgWorks.cmake:39 (MESSAGE)指定osgWorks_DIR为usr/local/lib 2.报错：无法生成动态链接库1/usr/bin/ld: /usr/local/lib/libBulletCollision.a(btBoxShape.o): relocation R_X86_64_32S against _ZNK21btConvexInternalShape9getMarginEv can not be used when making a shared object; recompile with -fPIC 将BUILD_SHARED_LIBS取消勾选 3.报错：编译example/patch-lowlevel时报“未定义的引用”错误将/examples/CMakeLists.txt中的ADD_SUBDIRECTORY( patch-lowlevel )注释掉 4.报错：no matching function for call to ‘osg::TriangleFunctor::operator()(const Vec3&amp;, const Vec3&amp;, const Vec3&amp;)’将/usr/local/include/osg/TriangleFunctor中以this-&gt;operator()开头的语句末尾增加一个参数false例如：1this-&gt;operator()(*(vptr),*(vptr+1),*(vptr+2)); 改为：1this-&gt;operator()(*(vptr),*(vptr+1),*(vptr+2),false); 环境变量配置1sudo gedit /etc/profile 在最末尾加上如下语句12#osgBulletexport osgBullet_DIR=/usr/local/lib 执行source /etc/profile或重启以更新系统环境变量 以上osgWorks及osgBullet编译安装完毕 参考https://www.cnblogs.com/lyggqm/p/6733423.html]]></content>
      <categories>
        <category>技巧</category>
      </categories>
      <tags>
        <tag>OSG</tag>
        <tag>Bullet</tag>
        <tag>osgWorks</tag>
        <tag>osgBullet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[【OSG】OSG、osgQT编译及配置（Linux/ubuntu）]]></title>
    <url>%2F2017%2F11%2F14%2Fosg-compiling-and-configuration%2F</url>
    <content type="text"><![CDATA[写在最前面本文介绍了OSG及osgQT的编译及配置过程 系统环境ubuntu: 16.04CMake: 3.5.1OSG: 3.5.7 OSG编译及配置源代码下载、编译源代码：Github链接12345mkdir buildcd buildcmake -D BUILD_OSG_EXAMPLES=ON ..makemake install 数据文件配置数据文件下载：Github链接解压存放，例如/home/&lt;用户名&gt;/Documents/OpenSceneGraph-Data OSG环境变量配置1sudo gedit /etc/profile 在最末尾加上如下语句12345#OSGexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib64export PATH=$PATH:/usr/local/share/OpenSceneGraph/binexport OSG_FILE_PATH=/home/&lt;用户名&gt;/Documents/OpenSceneGraph-Dataexport OSG_DIR=/usr/local/lib64 分别为 添加OSG库路径到系统共享库路径 OSG的一些可执行文件路径 OSG的数据文件路径（根据实际存放位置修改） OSG动态链接库路径 执行source /etc/profile或重启以更新系统环境变量 至此OSG配置完成 测试运行如下命令1osgviewer cow.osgt 如显示以下图像则为测试成功 osgQT编译源代码下载、编译源代码：Github链接12345mkdir buildcd buildcmake -D BUILD_OSG_EXAMPLES=ON ..makemake install 测试通过运行编译出来的例子验证是否配置成功 QT中使用OSG的CMakeLists.txt写法并非完整写法，可供参考12345678## 增加OSG的依赖FIND_PACKAGE(OpenSceneGraph REQUIRED COMPONENTS osgDB osgGA osgUtil osgText osgViewer osgWidget)LIST(APPEND INCS_DIR $&#123;OPENSCENEGRAPH_INCLUDE_DIRS&#125;)FILE(GLOB OST_QT_LIB "/usr/local/lib64/libosgQt5.so")LIST(APPEND LIBS $&#123;OPENSCENEGRAPH_LIBRARIES&#125; $&#123;OST_QT_LIB&#125;)INCLUDE_DIRECTORIES($&#123;INCS_DIR&#125;)TARGET_LINK_LIBRARIES(Project $&#123;LIBS&#125;) 注：CMake中的FIND_PACKAGE(osgQT)测试无效，不清楚是不是版本问题]]></content>
      <categories>
        <category>技巧</category>
      </categories>
      <tags>
        <tag>OSG</tag>
        <tag>QT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[【Hexo】利用七牛qshell工具上传博客图片]]></title>
    <url>%2F2017%2F08%2F11%2Fhexo-qiniu-image-upload%2F</url>
    <content type="text"><![CDATA[写在最前面本文对利用七牛qshell上传博客图片的设置及使用方法进行了整理 系统环境ubuntu: 16.04hexo: 3.3.8 qshell的配置下载qshellGithub链接下载对应的版本，本文以ubuntu为例 qhell的配置将qshell可执行文件存放到home文件夹下例如/home/用户名/qiniu添加可执行权限chmod +x qshell将qshell所在目录加入系统环境变量1$ sudo gedit ~/.bashrc 添加如下环境变量1export PATH=$PATH:/home/用户名/qiniu 运行source ~/.bashrc使修改立即生效在终端内输入qshell测试一下是否添加成功 配置账户进入/home/用户名/qiniu目录，建立账户，此处使用-m多账户模式将账户信息建立在qshell工具所在目录，其中AccessKey和SecretKey可从七牛账户中获取1$ qshell -m account &lt;AccessKey&gt; &lt;SecretKey&gt; 账户建立完毕用如下命令查看是否建立成功1$ qshell -m account 配置上传设置在/home/用户名/qiniu目录下建立config文件输入如下参数，前四项自行填写123456789101112131415161718&#123; &quot;src_dir&quot; : &quot;/home/用户名/.../source/_posts&quot;, &quot;access_key&quot; : &quot;ak&quot;, &quot;secret_key&quot; : &quot;sk&quot;, &quot;bucket&quot; : &quot;bucket名称&quot;, &quot;ignore_dir&quot; : false, &quot;overwrite&quot; : true, &quot;check_exists&quot; : true, &quot;check_hash&quot; : false, &quot;check_size&quot; : false, &quot;skip_file_prefixes&quot; : &quot;.git&quot;, &quot;skip_path_prefixes&quot; : &quot;&quot;, &quot;skip_fixed_strings&quot; : &quot;&quot;, &quot;skip_suffixes&quot; : &quot;.md&quot;, &quot;rescan_local&quot; : true, &quot;log_file&quot; : &quot;upload.log&quot;, &quot;log_level&quot; : &quot;info&quot;&#125; 文件上传当_posts下添加的图片之后，在/home/用户名/qiniu目录下运行一下命令即可完成上传1$ qshell -m qupload config 外链获取方法1直接在网页界面复制外链 方法2使用qshell获取域名及文件列表，并将两者进行拼接，/home/用户名/qiniu目录下获取域名1$ qshell -m domains &lt;空间名&gt; 获取文件列表1$ qshell -m listbucket &lt;空间名&gt; &lt;存储文件列表的文件名&gt; 将两者进行拼接即可获取完整外链存储至final文件1$ cat &lt;存储文件列表的文件名&gt; | awk '&#123;print "域名/"$1&#125;' &gt;final 参考https://github.com/qiniu/qshellhttps://segmentfault.com/q/1010000005149132/a-1020000005150007]]></content>
      <categories>
        <category>技巧</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
</search>
